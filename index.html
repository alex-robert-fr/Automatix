<!DOCTYPE html>
<!-- This document forms the dockable panel. The button is the <input> tag below. The <style> formats the button. 

		The extendscript is called through the <script type="text/javascript"> tag, which then routes it to use the adobe_cep_.evalScript to interpret that Javascript into Extendscript -->

<html>
	<head>
		<meta charset="utf-8">
		<title>AutoMarque</title>
		<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
		<script src="./lib/CSInterface.js"></script>		
		<script type="text/javascript">
			
			function runAll() {
				// cs.evalScript('$.runScript.CreateMarker()', JSON.stringify);

				var csInterface = new CSInterface();

				var json = document.getElementById('includeJSON').value;

				var sender = ('var jsonJSX =' + json + ';');

				csInterface.evalScript(sender+'$.runScript.CreateMarker()');
			}

			
		</script>
		<style>
			body {
				background-color: #262626;
				color: #f5f5f5;
				text-align: center;
				}
			input {
				display: block;
				margin: auto;
				max-width: 100%;
					}
			

		</style>
	</head>

	<body>
		<textarea id="includeJSON" cols="30" rows="10"></textarea>
		<p id="docName">&nbsp;</p>
		<button id="runButton" type="run" onclick="runAll()">Lire Input</button>
	</body>
</html>